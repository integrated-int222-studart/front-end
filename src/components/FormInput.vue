<template>
  <!--form input-->
  <div class="form-input" @submit.prevent="submit">
    <div class="grid place-items-center">
      <div class="w-full h-full px-10 py-2">
        <h1 class="text-xl font-semibold">
          ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ú‡∏•‡∏á‡∏≤‡∏ô üëã
          <p class="font-normal inline-block w-full">
            ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ç‡∏≠‡∏á‡∏ú‡∏•‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Ç‡∏≤‡∏¢
          </p>
        </h1>
        <form class="mt-6">
          <div class="mt-1">
            <div class="my-2"></div>
            <label for="productname" class=""
              >‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏•‡∏á‡∏≤‡∏ô <span class="text-error">*</span></label
            >
            <input
              id="productname"
              type="text"
              v-model="this.productInputValue.prodName"
              placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏•‡∏á‡∏≤‡∏ô"
              class="shadow appearance-none border border-black  rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
              required
            />
          </div>

          <div class="flex justify-between">
            <div class="mt-1 w-6/12">
              <div class="my-2 ">
                <label for="price" class=""
                  >‡∏£‡∏≤‡∏Ñ‡∏≤ <span class="text-error">*</span></label
                >
              </div>
              <input
                id="price"
                type="number"
                step="0.01"
                v-model="this.productInputValue.price"
                placeholder="‡∏£‡∏≤‡∏Ñ‡∏≤(‡∏ö‡∏≤‡∏ó)"
                autocomplete="price"
                class="shadow appearance-none border border-black  rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
                required
              />
            </div>
            <div class="mt-1 w-5/12">
              <div class="my-2 ">
                <label for="date" class=""
                  >‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ú‡∏•‡∏á‡∏≤‡∏ô <span class="text-error">*</span></label
                >
              </div>
              <input
                id="date"
                type="date"
                placeholder="‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà"
                v-model="this.productInputValue.manufacDate"
                class="shadow appearance-none border border-black  rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
                required
              />
            </div>
          </div>

          <div class="mt-1">
            <div class="my-2 ">
              <label for="type" class=""
                >‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó <span class="text-error">*</span></label
              >
            </div>
            <select
              id="type"
              name="type"
              v-model="this.productInputValue.productType"
              class="shadow appearance-none border border-black  rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
              required
              ><option value="" hidden disabled selected
                >Please select one</option
              >
              <option value="1">Option 1</option>
              <option value="2">{ { table.productType2 }}</option>
            </select>
          </div>

          <div class="mt-1">
            <div class="my-2">
              <label for="product-description" class=""
                >‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î <span class="text-error">*</span></label
              >
            </div>
            <textarea
              id="product-description"
              v-model="this.productInputValue.prodDescription"
              placeholder="‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î ‡πÄ‡∏ä‡πà‡∏ô ‡∏ó‡∏µ‡πà‡∏°‡∏≤ ‡πÅ‡∏£‡∏á‡∏ö‡∏±‡∏ô‡∏î‡∏≤‡∏•‡πÉ‡∏à"
              rows="3"
              class="shadow appearance-none border border-black  rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
            />
          </div>
          <button
            type="submit"
            class="w-full py-3 mt-6 font-medium tracking-widest text-white uppercase bg-black shadow-lg focus:outline-none hover:bg-gray-900 hover:shadow-none"
          >
            ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ú‡∏•‡∏á‡∏≤‡∏ô
          </button>
        </form>
      </div>
    </div>
    <pre>{{ this.productInputValue }}{{ this.checkValidate }}</pre>
  </div>
</template>

<script>
export default {
  data() {
    return {
      productInputValue: {
        prodName: "",
        manufacDate: "",
        price: 0.0,
        prodDescription: "",
        productType: "",
        style: [1,2,3],
      },
      checkValidate: {
        errorProdName: false,
        errorDate: false,
        errorPrice: false,
        errorProdDes: false,
        errorproductType: false,
      },
    };
  },
  methods: {
    formValidate() {
      if (this.productInputValue.prodName === "") {
        this.checkValidate.errorProdName = true;
      } else {
        this.checkValidate.errorProdName = false;
      }
      if (this.productInputValue.manufacDate === "") {
        this.checkValidate.errorDate = true;
      } else {
        this.checkValidate.errorDate = false;
      }
      if (this.productInputValue.price === "") {
        this.checkValidate.errorPrice = true;
      } else {
        this.checkValidate.errorPrice = false;
      }
      if (this.productInputValue.prodDescription === "") {
        this.checkValidate.errorProdDes = true;
      } else {
        this.checkValidate.errorProdDes = false;
      }
      if (this.productInputValue.productType === "") {
        this.checkValidate.errorproductType = true;
      } else {
        this.checkValidate.errorproductType = false;
      }
    },
    submit() {
      this.formValidate();
      if (
        this.checkValidate.errorProdName ||
        this.checkValidate.errorDate ||
        this.checkValidate.errorPrice ||
        this.checkValidate.errorProdDes ||
        this.checkValidate.errorproductType
      ) {
        console.log("Input error");
      } else {
        this.$store.dispatch("addProduct", this.productInputValue);

        console.log("send form success", this.productInputValue);
      }
    },
  },
};
</script>
